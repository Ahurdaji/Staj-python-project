{% extends 'blog.html' %} 

{% block header %}
<h1>{% block title %}Add a Post{% endblock %}</h1>
{% endblock %}

{% block content %}
<h1 class="mt-5">Create a Post</h1>
<p class="lead">
  Fill in the boxes below and click submit to add a new post to Uni Blog.
</p>

<!-- Ensure that Flask-WTF's CSRF token is included -->
<form method="post" action="">
  {{ form.hidden_tag() }}

  <div class="form-group row">
    <label for="title" class="col-sm-2 col-form-label">Title:</label>
    <div class="col-sm-10">
      <!-- Bind the title field to the form object -->
      {{ form.title(class="form-control") }} 
      {% if form.title.errors %}
      <div class="text-danger">{{ form.title.errors[0] }}</div>
      {% endif %}
    </div>
  </div>

  <div class="form-group row">
    <label for="subtitle" class="col-sm-2 col-form-label">Subtitle:</label>
    <div class="col-sm-10">
      <!-- Bind the subtitle field to the form object -->
      {{ form.subtitle(class="form-control") }} 
      {% if form.subtitle.errors %}
      <div class="text-danger">{{ form.subtitle.errors[0] }}</div>
      {% endif %}
    </div>
  </div>

  <div class="form-group">
    <label for="body">Body:</label>
    <!-- Bind the body field to the form object -->
    {{ form.body(class="form-control", rows=10, cols=90) }} 
    {% if form.body.errors %}
    <div class="text-danger">{{ form.body.errors[0] }}</div>
    {% endif %}
  </div>

  <div class="form-group row justify-content-between">
    <div class="col-8 form-inline">
      <label for="category" class="col-sm-2 col-form-label">Category:</label>
      <!-- Bind the category select field to the form object -->
      {{ form.category(class="form-control mb-2 mr-sm-2") }} 
      {% if form.category.errors %}
      <div class="text-danger">{{ form.category.errors[0] }}</div>
      {% endif %}
    </div>
    <input class="btn btn-primary" type="submit" value="Submit" />
  </div>
</form>

{% endblock %}
